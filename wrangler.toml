name = "flaremsg"
main = "index.ts"
compatibility_date = "2024-01-01"

# KV Namespace 配置
# 如果需要自行部署 KV，请取消注释并填写你的 KV 命名空间 ID
[[kv_namespaces]]
binding = "WECHAT_KV"
id = "e1c36a55d67f4e5697877658fa514b98" 

# 环境变量配置
[vars]

# 默认消息内容
DEFAULT_FROM = "系统通知"
DEFAULT_DESC = "无内容"
DEFAULT_REMARK = ""
DEFAULT_URL = ""

# 字段颜色配置（十六进制）
COLOR_FROM = "#173177"
COLOR_DESC = "#000000"
COLOR_REMARK = "#888888"

# 微信模板 ID 配置
# 获取方法：访问 https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login
# 点击"新增测试模版"，创建模板后记录模板 ID（形如 xBxxxxxxxxxxxxxx）
#
# 部署方式：
# 1. 本地部署：直接将下方的 YOUR_TEMPLATE_ID 替换为你的实际模版 ID
# 2. GitHub Actions 部署：保持占位符不变，在 GitHub Secrets 中配置 WECHAT_TEMPLATE_ID
#    部署时会自动替换占位符为实际值
WECHAT_TEMPLATE_ID = "LDx8dVfHhybTGtHY5FGNzUukMM4z_uzwrpwntgaro0U"

# RPM 限制配置（每分钟请求数）
# 设置为 0 表示不限制（默认值）
# 启用建议值：100-300 次/分钟，避免滥用
# RATE_LIMIT_RPM = 0

# CORS 配置（可选）
# 默认允许所有来源访问（"*"）
# 生产环境建议指定具体域名以提高安全性
# ALLOWED_ORIGIN = "https://yourdomain.com"

# 注意：以下敏感信息必须通过 wrangler secret put 命令设置，不要直接写在此文件中
# - WECHAT_APP_ID: 微信公众号 AppID
# - WECHAT_APP_SECRET: 微信公众号 AppSecret
# - CLIENT_AUTH_TOKEN: API 调用鉴权密钥
#
# 设置方法：
# wrangler secret put WECHAT_APP_ID
# wrangler secret put WECHAT_APP_SECRET
# wrangler secret put CLIENT_AUTH_TOKEN
